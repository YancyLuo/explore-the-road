# 3308-3658 data()数据缓存

在jQuery中，为了避免内存泄漏，并不是直接在元素上存储数据的，而是通过一个中间对象`cache`。jQuery源码中，通过Data构造函数构建了一个叫`data_user`的数据对象，该对象有两个实例属性：
- cache：一个对象，用于存储所有的与元素建立连接的数据。
- expando：一个随机生成的字符串，该字符串会被当做键名。
当我们在调用data方法为元素设置数据时，实际上是把`expando`当做键名，一个从1开始递增的数字当做键值设置到了元素上。然后再把该数字当做`cache`对象的键名，其键值就是与元素建立连接的数据对象。读取数据元素的数据对象时，就是去查找元素上`expando`的值，再拿该值去`cache`对象中找到该元素的数据对象。
